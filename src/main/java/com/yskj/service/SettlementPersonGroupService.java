package com.yskj.service;import com.yskj.dao.SettlementPersonGroupDao;import com.yskj.models.*;import com.yskj.service.base.AbstractService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;@Servicepublic class SettlementPersonGroupService extends AbstractService {	@Autowired    private SettlementPersonGroupDao settlementPersonGroupDao;	@Autowired	private ApplySettlementService applySettlementService;	@Autowired	private SigninService signinService;	public SettlementPersonGroupService() {		super();	}	@Override	public SettlementPersonGroupDao getDao() {		return this.settlementPersonGroupDao;	}	@Transactional	public void cancelPay(String id)throws Exception{		SettlementPersonGroup settlementPersonGroup = this.get(id);		for(String appid : settlementPersonGroup.getApplyId().split(",")){			ApplySettlement applySettlement  =  applySettlementService.get(appid);			if(applySettlement!=null){				for(String signid : applySettlement.getSignIDS().split(",")){					Signin signin = signinService.get(signid);					if(3==signin.getState()){						signin.setState(2);						signinService.update(signin);					}				}				applySettlementService.physicalDelete(applySettlement);			}		}		this.physicalDelete(settlementPersonGroup);	}	public SettlementPersonGroup salarymapOne(QueryParam queryParam)throws Exception{		return this.getDao().salarymapOne(queryParam);	}}