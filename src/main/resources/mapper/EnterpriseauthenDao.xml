<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.yskj.dao.EnterpriseauthenDao" ><!-- 查询字段 --><sql id="columnList" >	e.id,e.status,	 e.enterpriseName, e.creditCode, e.licenseOriginal, e.licenseTreatment, e.legalName, e.legalIDCard, e.legalIDCardJustOriginal, e.legalIDCardJustTreatment, e.legalIDCardBackOriginal, e.legalIDCardBackTreatment, e.adminName, e.adminIDCard, e.adminPhoneNumber, e.adminIDCardJustOriginal, e.adminIDCardJustTreatment, e.adminIDCardBackOriginal, e.adminIDCardBackTreatment, e.userID, e.createTime, e.updateTime, e.version, e.isDeleted, e.createBy, e.updateBy</sql><!--通过id集合in查询--><sql id="inClause">    <if test="column!=null">        <if test="ids==null">            and 1=0        </if>        <if test="ids!=null">            <if test="ids.size>0">                and  e.${column} in                <foreach item="items" index="index" collection="ids" open="(" separator="," close=")">                    #{items}                </foreach>            </if>            <if test="ids.size==0">                and 1=0            </if>        </if>    </if></sql><!-- 查询条件 --><sql id="whereClause">where 1=1<trim  suffixOverrides="," >	<if test="condition.id != null" >	    and e.id = #{condition.id}	</if>	<if test="condition.enterpriseName != null" >and  e.enterpriseName = #{condition.enterpriseName}</if><if test="condition.creditCode != null" >and  e.creditCode = #{condition.creditCode}</if><if test="condition.licenseOriginal != null" >and  e.licenseOriginal = #{condition.licenseOriginal}</if><if test="condition.licenseTreatment != null" >and  e.licenseTreatment = #{condition.licenseTreatment}</if><if test="condition.legalName != null" >and  e.legalName = #{condition.legalName}</if><if test="condition.legalIDCard != null" >and  e.legalIDCard = #{condition.legalIDCard}</if><if test="condition.legalIDCardJustOriginal != null" >and  e.legalIDCardJustOriginal = #{condition.legalIDCardJustOriginal}</if><if test="condition.legalIDCardJustTreatment != null" >and  e.legalIDCardJustTreatment = #{condition.legalIDCardJustTreatment}</if><if test="condition.legalIDCardBackOriginal != null" >and  e.legalIDCardBackOriginal = #{condition.legalIDCardBackOriginal}</if><if test="condition.legalIDCardBackTreatment != null" >and  e.legalIDCardBackTreatment = #{condition.legalIDCardBackTreatment}</if><if test="condition.adminName != null" >and  e.adminName = #{condition.adminName}</if><if test="condition.adminIDCard != null" >and  e.adminIDCard = #{condition.adminIDCard}</if><if test="condition.adminPhoneNumber != null" >and  e.adminPhoneNumber = #{condition.adminPhoneNumber}</if><if test="condition.adminIDCardJustOriginal != null" >and  e.adminIDCardJustOriginal = #{condition.adminIDCardJustOriginal}</if><if test="condition.adminIDCardJustTreatment != null" >and  e.adminIDCardJustTreatment = #{condition.adminIDCardJustTreatment}</if><if test="condition.adminIDCardBackOriginal != null" >and  e.adminIDCardBackOriginal = #{condition.adminIDCardBackOriginal}</if><if test="condition.adminIDCardBackTreatment != null" >and  e.adminIDCardBackTreatment = #{condition.adminIDCardBackTreatment}</if><if test="condition.userID != null" >and  e.userID = #{condition.userID}</if><if test="condition.createTime != null" >and  e.createTime = #{condition.createTime}</if><if test="condition.updateTime != null" >and  e.updateTime = #{condition.updateTime}</if><if test="condition.version != null" >and  e.version = #{condition.version}</if><if test="condition.isDeleted != null" >and  e.isDeleted = #{condition.isDeleted}</if><if test="condition.createBy != null" >and  e.createBy = #{condition.createBy}</if><if test="condition.updateBy != null" >and  e.updateBy = #{condition.updateBy}</if>    <if test="condition.status != null" >and  e.status = #{condition.status}</if></trim><include refid="inClause"/></sql><!-- 模糊查询条件 --><sql id="whereLikeClause">where 1=1<trim  suffixOverrides="," >	<if test="condition.id != null" >	    and e.id = #{condition.id}	</if>													 			<if test="condition.enterpriseName != null" >and  UPPER(e.enterpriseName) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.enterpriseName}),'%'))</if><if test="condition.creditCode != null" >and  UPPER(e.creditCode) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.creditCode}),'%'))</if><if test="condition.licenseOriginal != null" >and  UPPER(e.licenseOriginal) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.licenseOriginal}),'%'))</if><if test="condition.licenseTreatment != null" >and  UPPER(e.licenseTreatment) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.licenseTreatment}),'%'))</if><if test="condition.legalName != null" >and  UPPER(e.legalName) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.legalName}),'%'))</if><if test="condition.legalIDCard != null" >and  UPPER(e.legalIDCard) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.legalIDCard}),'%'))</if><if test="condition.legalIDCardJustOriginal != null" >and  UPPER(e.legalIDCardJustOriginal) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.legalIDCardJustOriginal}),'%'))</if><if test="condition.legalIDCardJustTreatment != null" >and  UPPER(e.legalIDCardJustTreatment) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.legalIDCardJustTreatment}),'%'))</if><if test="condition.legalIDCardBackOriginal != null" >and  UPPER(e.legalIDCardBackOriginal) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.legalIDCardBackOriginal}),'%'))</if><if test="condition.legalIDCardBackTreatment != null" >and  UPPER(e.legalIDCardBackTreatment) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.legalIDCardBackTreatment}),'%'))</if><if test="condition.adminName != null" >and  UPPER(e.adminName) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminName}),'%'))</if><if test="condition.adminIDCard != null" >and  UPPER(e.adminIDCard) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminIDCard}),'%'))</if><if test="condition.adminPhoneNumber != null" >and  UPPER(e.adminPhoneNumber) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminPhoneNumber}),'%'))</if><if test="condition.adminIDCardJustOriginal != null" >and  UPPER(e.adminIDCardJustOriginal) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminIDCardJustOriginal}),'%'))</if><if test="condition.adminIDCardJustTreatment != null" >and  UPPER(e.adminIDCardJustTreatment) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminIDCardJustTreatment}),'%'))</if><if test="condition.adminIDCardBackOriginal != null" >and  UPPER(e.adminIDCardBackOriginal) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminIDCardBackOriginal}),'%'))</if><if test="condition.adminIDCardBackTreatment != null" >and  UPPER(e.adminIDCardBackTreatment) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.adminIDCardBackTreatment}),'%'))</if><if test="condition.userID != null" >and  UPPER(e.userID) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.userID}),'%'))</if><if test="condition.createTime != null" >and  UPPER(e.createTime) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.createTime}),'%'))</if><if test="condition.updateTime != null" >and  UPPER(e.updateTime) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.updateTime}),'%'))</if><if test="condition.version != null" >and  UPPER(e.version) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.version}),'%'))</if><if test="condition.isDeleted != null" >and  UPPER(e.isDeleted) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.isDeleted}),'%'))</if><if test="condition.createBy != null" >and  UPPER(e.createBy) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.createBy}),'%'))</if><if test="condition.updateBy != null" >and  UPPER(e.updateBy) LIKE   UPPER(CONCAT(CONCAT('%',#{condition.updateBy}),'%'))</if></trim><include refid="inClause"/></sql><!-- 插入记录 --><insert id="add"  >  insert into enterpriseauthen (id,status,enterpriseName,creditCode,licenseOriginal,licenseTreatment,legalName,legalIDCard,legalIDCardJustOriginal,legalIDCardJustTreatment,legalIDCardBackOriginal,legalIDCardBackTreatment,adminName,adminIDCard,adminPhoneNumber,adminIDCardJustOriginal,adminIDCardJustTreatment,adminIDCardBackOriginal,adminIDCardBackTreatment,userID,createTime,updateTime,version,isDeleted,createBy,updateBy)  values(#{id,jdbcType=VARCHAR},#{status},#{enterpriseName},#{creditCode},#{licenseOriginal},#{licenseTreatment},#{legalName},#{legalIDCard},#{legalIDCardJustOriginal},#{legalIDCardJustTreatment},#{legalIDCardBackOriginal},#{legalIDCardBackTreatment},#{adminName},#{adminIDCard},#{adminPhoneNumber},#{adminIDCardJustOriginal},#{adminIDCardJustTreatment},#{adminIDCardBackOriginal},#{adminIDCardBackTreatment},#{userID},#{createTime},#{updateTime},#{version},#{isDeleted},#{createBy},#{updateBy})</insert><!-- 修改记录，只修改只不为空的字段 --><update id="update" >	update enterpriseauthen set	<trim  suffixOverrides="," >	<if test="enterpriseName != null ">enterpriseName=#{enterpriseName},</if><if test="creditCode != null ">creditCode=#{creditCode},</if><if test="licenseOriginal != null ">licenseOriginal=#{licenseOriginal},</if><if test="licenseTreatment != null ">licenseTreatment=#{licenseTreatment},</if><if test="legalName != null ">legalName=#{legalName},</if><if test="legalIDCard != null ">legalIDCard=#{legalIDCard},</if><if test="legalIDCardJustOriginal != null ">legalIDCardJustOriginal=#{legalIDCardJustOriginal},</if><if test="legalIDCardJustTreatment != null ">legalIDCardJustTreatment=#{legalIDCardJustTreatment},</if><if test="legalIDCardBackOriginal != null ">legalIDCardBackOriginal=#{legalIDCardBackOriginal},</if><if test="legalIDCardBackTreatment != null ">legalIDCardBackTreatment=#{legalIDCardBackTreatment},</if><if test="adminName != null ">adminName=#{adminName},</if><if test="adminIDCard != null ">adminIDCard=#{adminIDCard},</if><if test="adminPhoneNumber != null ">adminPhoneNumber=#{adminPhoneNumber},</if><if test="adminIDCardJustOriginal != null ">adminIDCardJustOriginal=#{adminIDCardJustOriginal},</if><if test="adminIDCardJustTreatment != null ">adminIDCardJustTreatment=#{adminIDCardJustTreatment},</if><if test="adminIDCardBackOriginal != null ">adminIDCardBackOriginal=#{adminIDCardBackOriginal},</if><if test="adminIDCardBackTreatment != null ">adminIDCardBackTreatment=#{adminIDCardBackTreatment},</if><if test="userID != null ">userID=#{userID},</if><if test="createTime != null ">createTime=#{createTime},</if><if test="updateTime != null ">updateTime=#{updateTime},</if><if test="version != null ">version=#{version},</if><if test="isDeleted != null ">isDeleted=#{isDeleted},</if><if test="createBy != null ">createBy=#{createBy},</if><if test="updateBy != null ">updateBy=#{updateBy},</if>        <if test="status != null ">status=#{status},</if>	</trim> where id=#{id} and version = #{version}-1</update><!-- 删除记录 --><delete id="del" >	delete from enterpriseauthen where id = #{id}</delete><!-- 根据id查询  --><select id="get"   resultType="Enterpriseauthen"  parameterType="String">	select <include refid="columnList" /> 	from enterpriseauthen  e	where  e.id = #{id}  and e.isDeleted = false</select><!-- 列表总数--><select id="count" resultType="java.lang.Long" >	select count(1) 	from enterpriseauthen  e	<include refid="whereClause"/></select><!-- 查询page --><select id="findPage" resultType="Enterpriseauthen" >	select 	<include refid="columnList"/>	from enterpriseauthen e	<include refid="whereClause"/>	<if test="orderByClause!=null">${orderByClause}</if></select><!-- 模糊查询page --><select id="findLikePage" resultType="Enterpriseauthen" >	select 	<include refid="columnList"/>	from enterpriseauthen e	<include refid="whereLikeClause"/>	<if test="orderByClause!=null">${orderByClause}</if></select><!-- 查询列表list --><select id="findList" resultType="Enterpriseauthen" >	select	<include refid="columnList"/>	from enterpriseauthen e	<include refid="whereClause"/>	<if test="orderByClause!=null">${orderByClause}</if></select><!--模糊查询list--><select id="findLikeList" resultType="Enterpriseauthen" >	select	<include refid="columnList"/>	from enterpriseauthen e	<include refid="whereLikeClause"/>	<if test="orderByClause!=null">${orderByClause}</if></select><!-- 查询符合条件的数据的id集合 --><select id="findIds" resultType="String">	select e.${idsColumn}	from enterpriseauthen e    <include refid="whereClause"/>    <if test="orderByClause!=null">${orderByClause}</if></select><!-- 查询符合模糊条件的数据的id集合 --><select id="findLikeIds" resultType="String">	select e.${idsColumn}	from enterpriseauthen e    <include refid="whereLikeClause"/>    <if test="orderByClause!=null">${orderByClause}</if></select><!-- 获取一个对象通过非id --><select id="one" resultType="Enterpriseauthen" >     select    <include refid="columnList"/>     from enterpriseauthen e    <include refid="whereClause"/>    <if test="orderByClause!=null">${orderByClause}</if>    limit 0,1</select><!--如果你想返回一个HashMap 就实现这个select标签--><select id="queryHashMap" resultType="java.util.HashMap"  parameterType="Object"></select>    <!--级联查询-->    <sql id="detailList">        e.id as 'id',e.status as 'status',        e.version as 'version',e.enterpriseName as 'enterpriseName',e.creditCode as 'creditCode',e.licenseOriginal as 'licenseOriginal',        yyAttachment.id as 'yyAttachment.id',        yyAttachment.version as 'yyAttachment.version',yyAttachment.datestr as 'yyAttachment.datestr',yyAttachment.path as 'yyAttachment.path',yyAttachment.name as 'yyAttachment.name',yyAttachment.title as 'yyAttachment.title',yyAttachment.type as 'yyAttachment.type',yyAttachment.refID as 'yyAttachment.refID',e.licenseTreatment as 'licenseTreatment',e.legalName as 'legalName',e.legalIDCard as 'legalIDCard',e.legalIDCardJustOriginal as 'legalIDCardJustOriginal',        fzAttachment.id as 'fzAttachment.id',        fzAttachment.version as 'fzAttachment.version',fzAttachment.datestr as 'fzAttachment.datestr',fzAttachment.path as 'fzAttachment.path',fzAttachment.name as 'fzAttachment.name',fzAttachment.title as 'fzAttachment.title',fzAttachment.type as 'fzAttachment.type',fzAttachment.refID as 'fzAttachment.refID',e.legalIDCardJustTreatment as 'legalIDCardJustTreatment',e.legalIDCardBackOriginal as 'legalIDCardBackOriginal',        ffAttachment.id as 'ffAttachment.id',        ffAttachment.version as 'ffAttachment.version',ffAttachment.datestr as 'ffAttachment.datestr',ffAttachment.path as 'ffAttachment.path',ffAttachment.name as 'ffAttachment.name',ffAttachment.title as 'ffAttachment.title',ffAttachment.type as 'ffAttachment.type',ffAttachment.refID as 'ffAttachment.refID',e.legalIDCardBackTreatment as 'legalIDCardBackTreatment',e.adminName as 'adminName',e.adminIDCard as 'adminIDCard',e.adminPhoneNumber as 'adminPhoneNumber',e.adminIDCardJustOriginal as 'adminIDCardJustOriginal',        azAttachment.id as 'azAttachment.id',        azAttachment.version as 'azAttachment.version',azAttachment.datestr as 'azAttachment.datestr',azAttachment.path as 'azAttachment.path',azAttachment.name as 'azAttachment.name',azAttachment.title as 'azAttachment.title',azAttachment.type as 'azAttachment.type',azAttachment.refID as 'azAttachment.refID',e.adminIDCardJustTreatment as 'adminIDCardJustTreatment',e.adminIDCardBackOriginal as 'adminIDCardBackOriginal',        afAttachment.id as 'afAttachment.id',        afAttachment.version as 'afAttachment.version',afAttachment.datestr as 'afAttachment.datestr',afAttachment.path as 'afAttachment.path',afAttachment.name as 'afAttachment.name',afAttachment.title as 'afAttachment.title',afAttachment.type as 'afAttachment.type',afAttachment.refID as 'afAttachment.refID',e.adminIDCardBackTreatment as 'adminIDCardBackTreatment',e.userID as 'userID'    </sql>    <!--Attachment映射-->    <resultMap id="yyAttachmentMap" type="Attachment">        <id property="id" column="yyAttachment.id" />        <result property="version" column="yyAttachment.version" />        <result property="datestr" column="yyAttachment.datestr" />        <result property="path" column="yyAttachment.path" />        <result property="name" column="yyAttachment.name" />        <result property="title" column="yyAttachment.title" />        <result property="type" column="yyAttachment.type" />        <result property="refID" column="yyAttachment.refID" />    </resultMap>    <!--Attachment映射-->    <resultMap id="fzAttachmentMap" type="Attachment">        <id property="id" column="fzAttachment.id" />        <result property="version" column="fzAttachment.version" />        <result property="datestr" column="fzAttachment.datestr" />        <result property="path" column="fzAttachment.path" />        <result property="name" column="fzAttachment.name" />        <result property="title" column="fzAttachment.title" />        <result property="type" column="fzAttachment.type" />        <result property="refID" column="fzAttachment.refID" />    </resultMap>    <!--Attachment映射-->    <resultMap id="ffAttachmentMap" type="Attachment">        <id property="id" column="ffAttachment.id" />        <result property="version" column="ffAttachment.version" />        <result property="datestr" column="ffAttachment.datestr" />        <result property="path" column="ffAttachment.path" />        <result property="name" column="ffAttachment.name" />        <result property="title" column="ffAttachment.title" />        <result property="type" column="ffAttachment.type" />        <result property="refID" column="ffAttachment.refID" />    </resultMap>    <!--Attachment映射-->    <resultMap id="azAttachmentMap" type="Attachment">        <id property="id" column="azAttachment.id" />        <result property="version" column="azAttachment.version" />        <result property="datestr" column="azAttachment.datestr" />        <result property="path" column="azAttachment.path" />        <result property="name" column="azAttachment.name" />        <result property="title" column="azAttachment.title" />        <result property="type" column="azAttachment.type" />        <result property="refID" column="azAttachment.refID" />    </resultMap>    <!--Attachment映射-->    <resultMap id="afAttachmentMap" type="Attachment">        <id property="id" column="afAttachment.id" />        <result property="version" column="afAttachment.version" />        <result property="datestr" column="afAttachment.datestr" />        <result property="path" column="afAttachment.path" />        <result property="name" column="afAttachment.name" />        <result property="title" column="afAttachment.title" />        <result property="type" column="afAttachment.type" />        <result property="refID" column="afAttachment.refID" />    </resultMap>    <!--Enterpriseauthen映射-->    <resultMap id="enterpriseauthenMap" type="Enterpriseauthen">        <id property="id" column="id" />        <result property="version" column="version" />        <result property="enterpriseName" column="enterpriseName" />        <result property="creditCode" column="creditCode" />        <result property="licenseOriginal" column="licenseOriginal" />        <result property="licenseTreatment" column="licenseTreatment" />        <result property="legalName" column="legalName" />        <result property="legalIDCard" column="legalIDCard" />        <result property="legalIDCardJustOriginal" column="legalIDCardJustOriginal" />        <result property="legalIDCardJustTreatment" column="legalIDCardJustTreatment" />        <result property="legalIDCardBackOriginal" column="legalIDCardBackOriginal" />        <result property="legalIDCardBackTreatment" column="legalIDCardBackTreatment" />        <result property="adminName" column="adminName" />        <result property="adminIDCard" column="adminIDCard" />        <result property="adminPhoneNumber" column="adminPhoneNumber" />        <result property="adminIDCardJustOriginal" column="adminIDCardJustOriginal" />        <result property="adminIDCardJustTreatment" column="adminIDCardJustTreatment" />        <result property="adminIDCardBackOriginal" column="adminIDCardBackOriginal" />        <result property="adminIDCardBackTreatment" column="adminIDCardBackTreatment" />        <result property="userID" column="userID" />        <result property="status" column="status" />        <association property="yyAttachment"  javaType="Attachment" resultMap="yyAttachmentMap"/>        <association property="fzAttachment"  javaType="Attachment" resultMap="fzAttachmentMap"/>        <association property="ffAttachment"  javaType="Attachment" resultMap="ffAttachmentMap"/>        <association property="azAttachment"  javaType="Attachment" resultMap="azAttachmentMap"/>        <association property="afAttachment"  javaType="Attachment" resultMap="afAttachmentMap"/>    </resultMap>    <!--对象的多级映射 mapList mapPage mapOne-->    <select id="mapPage" resultMap="enterpriseauthenMap" >        select        <include refid="detailList"/>        from  enterpriseauthen e        left join attachment yyAttachment on e.licenseOriginal = yyAttachment.id        left join attachment fzAttachment on e.legalIDCardJustOriginal = fzAttachment.id        left join attachment ffAttachment on e.legalIDCardBackOriginal = ffAttachment.id        left join attachment azAttachment on e.adminIDCardJustOriginal = azAttachment.id        left join attachment afAttachment on e.adminIDCardBackOriginal = afAttachment.id        <include refid="whereClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>	<!--对象的多级映射 mapList mapPage mapOne-->	<select id="mapOne" resultMap="enterpriseauthenMap" >		select		<include refid="detailList"/>		from  enterpriseauthen e        left join attachment yyAttachment on e.licenseOriginal = yyAttachment.id        left join attachment fzAttachment on e.legalIDCardJustOriginal = fzAttachment.id        left join attachment ffAttachment on e.legalIDCardBackOriginal = ffAttachment.id        left join attachment azAttachment on e.adminIDCardJustOriginal = azAttachment.id        left join attachment afAttachment on e.adminIDCardBackOriginal = afAttachment.id		<include refid="whereClause"/>		<if test="orderByClause!=null">${orderByClause}</if>		limit 0,1	</select></mapper>