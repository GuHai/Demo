<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.yskj.dao.EducationalDao">    <!-- 查询字段 -->    <sql id="columnList">	e.id,	 e.schoolName, e.major, e.education,e.educationLeavl ,e.timeSlot, e.timeEnd, e.association, e.resumeID, e.createTime, e.updateTime, e.version, e.isDeleted, e.createBy, e.updateBy</sql>    <!--通过id集合in查询-->    <sql id="inClause">        <if test="column!=null">            <if test="ids==null">                and 1=0            </if>            <if test="ids!=null">                <if test="ids.size>0">                    and e.${column} in                    <foreach item="items" index="index" collection="ids" open="(" separator="," close=")">                        #{items}                    </foreach>                </if>                <if test="ids.size==0">                    and 1=0                </if>            </if>        </if>    </sql>    <!-- 查询条件 -->    <sql id="whereClause">        where 1=1        <trim suffixOverrides=",">            <if test="condition.id != null">                and e.id = #{condition.id}            </if>            <if test="condition.schoolName != null">and e.schoolName = #{condition.schoolName}</if>            <if test="condition.major != null">and e.major = #{condition.major}</if>            <if test="condition.education != null">and e.education = #{condition.education}</if>            <if test="condition.educationLeavl != null">and e.educationLeavl = #{condition.educationLeavl}</if>            <if test="condition.timeSlot != null">and e.timeSlot = #{condition.timeSlot}</if>            <if test="condition.timeEnd != null">and e.timeEnd = #{condition.timeEnd}</if>            <if test="condition.association != null">and e.association = #{condition.association}</if>            <if test="condition.resumeID != null">and e.resumeID = #{condition.resumeID}</if>            <if test="condition.createTime != null">and e.createTime = #{condition.createTime}</if>            <if test="condition.updateTime != null">and e.updateTime = #{condition.updateTime}</if>            <if test="condition.version != null">and e.version = #{condition.version}</if>            <if test="condition.isDeleted != null">and e.isDeleted = #{condition.isDeleted}</if>            <if test="condition.createBy != null">and e.createBy = #{condition.createBy}</if>            <if test="condition.updateBy != null">and e.updateBy = #{condition.updateBy}</if>        </trim>        <include refid="inClause"/>    </sql>    <!-- 模糊查询条件 -->    <sql id="whereLikeClause">        where 1=1        <trim suffixOverrides=",">            <if test="condition.id != null">                and e.id = #{condition.id}            </if>            <if test="condition.schoolName != null">and UPPER(e.schoolName) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.schoolName}),'%'))            </if>            <if test="condition.major != null">and UPPER(e.major) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.major}),'%'))            </if>            <if test="condition.education != null">and UPPER(e.education) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.education}),'%'))            </if>            <if test="condition.educationLeavl != null">and UPPER(e.educationLeavl) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.educationLeavl}),'%'))            </if>            <if test="condition.timeSlot != null">and UPPER(e.timeSlot) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.timeSlot}),'%'))            </if>            <if test="condition.timeEnd != null">and UPPER(e.timeEnd) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.timeEnd}),'%'))            </if>            <if test="condition.association != null">and UPPER(e.association) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.association}),'%'))            </if>            <if test="condition.resumeID != null">and UPPER(e.resumeID) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.resumeID}),'%'))            </if>            <if test="condition.createTime != null">and UPPER(e.createTime) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.createTime}),'%'))            </if>            <if test="condition.updateTime != null">and UPPER(e.updateTime) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.updateTime}),'%'))            </if>            <if test="condition.version != null">and UPPER(e.version) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.version}),'%'))            </if>            <if test="condition.isDeleted != null">and UPPER(e.isDeleted) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.isDeleted}),'%'))            </if>            <if test="condition.createBy != null">and UPPER(e.createBy) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.createBy}),'%'))            </if>            <if test="condition.updateBy != null">and UPPER(e.updateBy) LIKE                UPPER(CONCAT(CONCAT('%',#{condition.updateBy}),'%'))            </if>        </trim>        <include refid="inClause"/>    </sql>    <!-- 插入记录 -->    <insert id="add">  insert into educational (id,schoolName,major,education,educationLeavl,timeSlot,timeEnd,association,resumeID,createTime,updateTime,version,isDeleted,createBy,updateBy)  values(#{id,jdbcType=VARCHAR},#{schoolName},#{major},#{education},#{educationLeavl},#{timeSlot},#{timeEnd},#{association},#{resumeID},#{createTime},#{updateTime},#{version},#{isDeleted},#{createBy},#{updateBy})</insert>    <!-- 修改记录，只修改只不为空的字段 -->    <update id="update">        update educational set        <trim suffixOverrides=",">            <if test="schoolName != null ">schoolName=#{schoolName},</if>            <if test="major != null ">major=#{major},</if>            <if test="education != null ">education=#{education},</if>            <if test="educationLeavl != null ">educationLeavl=#{educationLeavl},</if>            <if test="timeSlot != null ">timeSlot=#{timeSlot},</if>            <if test="timeEnd != null ">timeEnd=#{timeEnd},</if>            <if test="association != null ">association=#{association},</if>            <if test="resumeID != null ">resumeID=#{resumeID},</if>            <if test="createTime != null ">createTime=#{createTime},</if>            <if test="updateTime != null ">updateTime=#{updateTime},</if>            <if test="version != null ">version=#{version},</if>            <if test="isDeleted != null ">isDeleted=#{isDeleted},</if>            <if test="createBy != null ">createBy=#{createBy},</if>            <if test="updateBy != null ">updateBy=#{updateBy},</if>        </trim>        where id=#{id} and version = #{version}-1    </update>    <!-- 删除记录 -->    <delete id="del">	delete from educational where id = #{id}</delete>    <!-- 根据id查询  -->    <select id="get" resultType="Educational" parameterType="String">        select        <include refid="columnList"/>        from educational e        where e.id = #{id} and e.isDeleted = false    </select>    <!-- 列表总数-->    <select id="count" resultType="java.lang.Long">        select count(1)        from educational e        <include refid="whereClause"/>    </select>    <!-- 查询page -->    <select id="findPage" resultType="Educational">        select        <include refid="columnList"/>        from educational e        <include refid="whereClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>    <!-- 模糊查询page -->    <select id="findLikePage" resultType="Educational">        select        <include refid="columnList"/>        from educational e        <include refid="whereLikeClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>    <!-- 查询列表list -->    <select id="findList" resultType="Educational">        select        <include refid="columnList"/>        from educational e        <include refid="whereClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>    <!--模糊查询list-->    <select id="findLikeList" resultType="Educational">        select        <include refid="columnList"/>        from educational e        <include refid="whereLikeClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>    <!-- 查询符合条件的数据的id集合 -->    <select id="findIds" resultType="String">        select e.${idsColumn}        from educational e        <include refid="whereClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>    <!-- 查询符合模糊条件的数据的id集合 -->    <select id="findLikeIds" resultType="String">        select e.${idsColumn}        from educational e        <include refid="whereLikeClause"/>        <if test="orderByClause!=null">${orderByClause}</if>    </select>    <!-- 获取一个对象通过非id -->    <select id="one" resultType="Educational">        select        <include refid="columnList"/>        from educational e        <include refid="whereClause"/>        <if test="orderByClause!=null">${orderByClause}</if>        limit 0,1    </select>    <!--如果你想返回一个HashMap 就实现这个select标签-->    <select id="queryHashMap" resultType="java.util.HashMap" parameterType="Object">    </select>    <select id="findEducationnalForEducation" parameterType="java.lang.String" resultType="Educational">		SELECT * FROM `educational` e		WHERE `resumeID` IN		(SELECT id FROM `resume` WHERE `userID` = #{id})		ORDER BY e.educationLeavl		DESC LIMIT 0,1	</select></mapper>